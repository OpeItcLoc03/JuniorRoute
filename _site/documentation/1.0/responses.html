<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Responses - JuniorRoute</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">
		<link rel="shortcut icon" href="../../favicon.ico">
		<link rel="stylesheet" href="../../css/normalize.css">
		<link rel="stylesheet" href="../../css/main.css">
		<link rel="stylesheet" href="../../css/common.css">
		<link rel="stylesheet" href="../../css/pygments.css">
		<script src="../../js/vendor/modernizr-2.6.2.min.js"></script>
	</head>
	<body>
		<!--[if lt IE 7]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->
		<div class="header">
	<h1>JuniorRoute</h1>
	<h2>the easy-to-learn, easy-to-use routing framework for .NET</h2>
</div>
		<div class="header-links">
	<div class="link-container-left menu" -data-menu="documentation-menu">
		<a href="../../documentation/1.0/quick_start.html">Documentation</a>
		<div class="menu-drop-down documentation-menu visuallyhidden">
			<a href="../../documentation/1.0/quick_start.html">Version 1.0</a>
		</div>
	</div>
	<div class="link-container-left menu" -data-menu="resources-menu">
		<span class="dummy">Resources</span>
		<div class="menu-drop-down resources-menu visuallyhidden">
			<a href="https://github.com/NathanAlden/JuniorRoute" target="_blank">Respository</a><br/>
			<a href="https://github.com/NathanAlden/JuniorRoute/wiki" target="_blank">Wiki</a>
		</div>
	</div>
	<div class="spacer"></div>
	<div class="link-container-right menu" -data-menu="other-projects-menu">
		<a href="https://github.com/NathanAlden" target="_blank">Other Projects by Nathan Alden, Sr.</a>
		<div class="menu-drop-down other-projects-menu visuallyhidden">
			<a href="https://github.com/NathanAlden/JuniorPersist">JuniorPersist</a></br>
			<a href="https://github.com/NathanAlden/JuniorMap">JuniorMap</a></br>
			<a href="https://github.com/NathanAlden/FirefoxAutoRefresh">Firefox Auto Refresh</a></br>
			<a href="https://github.com/NathanAlden" class="and-more">...and more!</a>
		</div>
	</div>
</div>
		<div class="documentation">
	<div class="navigation">
		<a href="../../index.html">Introduction</a>
		<div class="section">
			<a href="../../understanding_http_1.1.html">Understanding HTTP 1.1</a><br/>
		</div>
		<div class="section documentation-version">Version 1.0 Documentation</div>
		<div class="section">
			<a href="../../documentation/1.0/quick_start.html" class="quick-start">Quick-start</a><br/>
		</div>
		<div class="section">Core concepts</div>
		<div class="section-links">
			<a href="../../documentation/1.0/routes.html">Routes</a><br/>
			<a href="../../documentation/1.0/route_collections.html">Route collections</a><br/>
			<a href="../../documentation/1.0/restrictions.html">Restrictions</a><br/>
			<a href="../../documentation/1.0/responses.html">Responses</a><br/>
			<a href="../../documentation/1.0/caching.html">Caching</a><br/>
			<a href="../../documentation/1.0/authentication_providers.html">Authentication providers</a><br/>
			<a href="../../documentation/1.0/request_value_comparers.html">Request value comparers</a><br/>
			<a href="../../documentation/1.0/url_resolvers.html">URL resolvers</a>
		</div>
		<div class="section">Asset management</div>
		<div class="section-links">
			<a href="../../documentation/1.0/assets.html">Assets</a><br/>
			<a href="../../documentation/1.0/bundles.html">Bundles</a><br/>
			<a href="../../documentation/1.0/asset_concatenators.html">Asset Concatenators</a><br/>
			<a href="../../documentation/1.0/asset_transformers.html">Asset Transformers</a><br/>
			<a href="../../documentation/1.0/bundle_watchers.html">Bundle watchers</a><br/>
			<a href="../../documentation/1.0/bundle_watcher_routes.html">Bundle watcher routes</a>
		</div>
		<div class="section">
			<a href="../../documentation/1.0/diagnostics.html">Diagnostics</a>
			<div class="section-links">
				<a href="../../documentation/1.0/diagnosticroutehelper.html">DiagnosticRouteHelper</a><br/>
				<a href="../../documentation/1.0/diagnostic_configurations.html">Diagnostic configurations</a>
			</div>
		</div>
		<div class="section">ASP.net integration</div>
		<div class="section-links">
			<a href="../../documentation/1.0/juniorrouteapplication.html">JuniorRouteApplication</a><br/>
			<a href="../../documentation/1.0/juniorrouteapplicationconfiguration.html">JuniorRouteApplicationConfiguration</a><br/>
			<a href="../../documentation/1.0/aspnethttphandler.html">AspNetHttpHandler</a><br/>
			<a href="../../documentation/1.0/response_generators.html">Response generators</a><br/>
			<a href="../../documentation/1.0/response_handlers.html">Response handlers</a><br/>
			<a href="../../documentation/1.0/file_systems.html">FileSystem</a><br/>
			<a href="../../documentation/1.0/url_resolvers.html">UrlResolver</a>
		</div>
		<a href="../../documentation/1.0/auto_routing.html">Auto-routing</a>
		<div class="section-links">
			<a href="../../documentation/1.0/autoroutecollection.html">AutoRouteCollection</a><br/>
			<a href="../../documentation/1.0/containers.html">Containers</a><br/>
			<a href="../../documentation/1.0/class_filters.html">Class filters</a><br/>
			<a href="../../documentation/1.0/method_filters.html">Method filters</a><br/>
			<a href="../../documentation/1.0/name_mappers.html">Name mappers</a><br/>
			<a href="../../documentation/1.0/id_mappers.html">ID mappers</a><br/>
			<a href="../../documentation/1.0/resolved_relative_url_mappers.html">Resolved relative URL mappers</a><br/>
			<a href="../../documentation/1.0/restriction_mappers.html">Restriction mappers</a><br/>
			<a href="../../documentation/1.0/parameter_mappers.html">Parameter mappers</a><br/>
			<a href="../../documentation/1.0/model_property_mappers.html">Model property mappers</a><br/>
			<a href="../../documentation/1.0/response_mappers.html">Response mappers</a><br/>
			<a href="../../documentation/1.0/authentication_strategies.html">Authentication strategies</a><br/>
			<a href="../../documentation/1.0/forms_authentication.html">Forms authentication</a><br/>
			<a href="../../documentation/1.0/request_contexts.html">Request contexts</a>
		</div>
	</div>
	<div class="document"><h1 id='core_concept__responses'>Core Concept - Responses</h1>

<p>Responses encapsulate the information required to populate a HTTP response message. This information includes:</p>

<ul>
<li>Status and sub-status codes</li>

<li>Content type</li>

<li>Character set</li>

<li>Content encoding</li>

<li>Headers</li>

<li>Header encoding</li>

<li>Cookies</li>

<li>Content</li>

<li>Cache policy</li>
</ul>

<p>JuniorRoute provides the built-in <code>Response</code> implementation.</p>

<h2 id='status_and_substatus_codes'>Status and Sub-status Codes</h2>

<p>These codes populate the Status-Line of the HTTP response message. JuniorRoute provides the built-in <code>StatusAndSubStatusCode</code> class that encapsulates this concept. Developers may specify either an integer code (even unofficial codes) or an <code>HttpStatusCode</code> enumeration value. The Response class requires this value. There is no default value for the primary status code and the sub-status code defaults to 0.</p>

<p>The below example demonstrates a <a href='../../documentation/1.0/routes.html'>route</a> returning a 404.1 status code in its response.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='k'>new</span> <span class='n'>Response</span><span class='p'>(</span><span class='m'>404</span><span class='p'>,</span> <span class='m'>1</span><span class='p'>))</span>
</code></pre>
</div>
<p>The below example demonstrates using the fluent interface to set a 404 status code in the route&#8217;s response.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>NotFound</span><span class='p'>());</span>
</code></pre>
</div>
<h2 id='content_type'>Content type</h2>

<p>This value populates the Content-Type header of the HTTP response message. Omitting the content type omits the Content-Type header from the response. There is no default value.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a Content-Type header set to <em>application/json</em>.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>ContentType</span><span class='p'>(</span><span class='s'>&quot;application/json&quot;</span><span class='p'>));</span>
</code></pre>
</div>
<p>The below example demonstrates using the fluent interface to set a <em>text/plain</em> Content-Type header.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>TextPlain</span><span class='p'>());</span>
</code></pre>
</div>
<h2 id='character_set'>Character set</h2>

<p>This value populates the charset parameter of the Content-Type header in the HTTP response message. Omitting the character set omits the Content-Type header from the response. The default value is <em>utf-8</em>.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a Content-Type header set to <em>application/json</em> with a charset parameter set to <em>utf-16</em>.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>ContentType</span><span class='p'>(</span><span class='s'>&quot;application/json&quot;</span><span class='p'>).</span><span class='n'>Charset</span><span class='p'>(</span><span class='s'>&quot;utf-16&quot;</span><span class='p'>));</span>
</code></pre>
</div>
<h2 id='content_encoding'>Content encoding</h2>

<p>This value populates the Content-Encoding header of the HTTP response message. The <code>Response</code> class requires this value. The default value is <em>utf-8</em>.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a Content-Encoding header set to <em>us-ascii</em>.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>ContentEncoding</span><span class='p'>(</span><span class='n'>Encoding</span><span class='p'>.</span><span class='n'>ASCII</span><span class='p'>));</span>
</code></pre>
</div>
<h2 id='headers'>Headers</h2>

<p>Responses may contain additional headers that a developer wishes to provide. JuniorRoute provides the built-in <code>Header</code> class to represent response headers.</p>

<p>The below example demonstrates supplying a custom header in a response.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>Header</span><span class='p'>(</span><span class='s'>&quot;X-Custom&quot;</span><span class='p'>,</span> <span class='s'>&quot;value&quot;</span><span class='p'>));</span>
</code></pre>
</div>
<h2 id='header_encoding'>Header encoding</h2>

<p>This value populates the Header-Encoding header of the HTTP response message. The <code>Response</code> class requires this value. The default value is <em>utf-8</em>.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a Header-Encoding header set to <em>us-ascii</em>.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>HeaderEncoding</span><span class='p'>(</span><span class='n'>Encoding</span><span class='p'>.</span><span class='n'>ASCII</span><span class='p'>));</span>
</code></pre>
</div>
<h2 id='cookies'>Cookies</h2>

<p>Responses may contain cookies that a developer wishes to set. Supplying cookies populates the appropriate Set-Cookie response headers. JuniorRoute provides the built-in <code>Cookie</code> class to represent cookies.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a cooke named <em>mycookie</em> with value <em>value</em>.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>Cookie</span><span class='p'>(</span><span class='s'>&quot;mycookie&quot;</span><span class='p'>,</span> <span class='s'>&quot;value&quot;</span><span class='p'>));</span>
</code></pre>
</div>
<h2 id='content'>Content</h2>

<p>A method to retrieve the response body content is provided. However, this method is not called until the associated route is chosen as the matching route. Developers may provide binary or string content directly to the <code>Response</code> instance, or they may supply a delegate to be called once the content is needed. The delegate is useful for time-sensitive content or content that requires dependencies not available at the time the route is configured.</p>

<p>The below example demonstrates a route returning a 200.0 status code and a delegate-driven response.</p>
<div class='highlight'><pre><code class='csharp'><span class='k'>new</span> <span class='nf'>Route</span><span class='p'>(</span><span class='s'>&quot;route&quot;</span><span class='p'>,</span> <span class='n'>Guid</span><span class='p'>.</span><span class='n'>NewGuid</span><span class='p'>(),</span> <span class='s'>&quot;route&quot;</span><span class='p'>)</span>
  <span class='p'>.</span><span class='n'>RespondWith</span><span class='p'>(</span><span class='n'>Response</span><span class='p'>.</span><span class='n'>OK</span><span class='p'>().</span><span class='n'>Content</span><span class='p'>(()</span> <span class='p'>=&gt;</span> <span class='n'>DateTime</span><span class='p'>.</span><span class='n'>Now</span><span class='p'>.</span><span class='n'>ToString</span><span class='p'>(</span><span class='n'>CultureInfo</span><span class='p'>.</span><span class='n'>InvariantCulture</span><span class='p'>)));</span>
</code></pre>
</div>
<h2 id='fluent_interface'>Fluent Interface</h2>

<p>The <code>Response</code> class provides fluent-interface methods to make configuration easier. In most cases, use of the fluent interface is additive, meaning it does not overwrite previous calls. Use of fluent-interface methods is recommended.</p>

<h2 id='extensibility'>Extensibility</h2>

<p>Developers may create their own responses by implementing the <code>IResponse</code> interface.</p></div>
</div>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
		<script>window.jQuery || document.write('<script src="../../js/vendor/jquery-1.8.2.min.js"><\/script>')</script>
		<script src="../../js/plugins.js"></script>
		<script>
			var _gaq=[['_setAccount','UA-36144505-1'],['_trackPageview']];
				(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
				g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
				s.parentNode.insertBefore(g,s)}(document,'script'));
		</script>
    </body>
</html>